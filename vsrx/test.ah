name 'vsrx_test';

driver = 'VsrxDriver';

url endpoint('demo@{{driver}}');

//payload = '<lock-configuration/><load-configuration><configuration><routing-instances><instance><name>ims-qa-dmz-vr</name><instance-type>virtual-router</instance-type><interface><name>sp-0/0/0.0</name></interface></instance></routing-instances></configuration></load-configuration><commit/><unlock-configuration/>';

payload = '<lock-configuration/><load-configuration><configuration><version>17.3R2.10</version><system><syslog><user><name>*</name><contents><name>any</name><emergency/></contents></user><file><name>messages</name><contents><name>any</name><any/></contents><contents><name>authorization</name><info/></contents></file><file><name>interactive-commands</name><contents><name>interactive-commands</name><any/></contents></file></syslog><license><autoupdate><url><name>https://ae1.juniper.net/junos/key_retrieval</name></url></autoupdate></license></system><security><address-book><name>global</name><address><name>pub-add-mip-1</name><ip-prefix>142.165.233.222/32</ip-prefix></address><address><name>pub-mip-142-165-233-220</name><ip-prefix>142.165.233.220/32</ip-prefix></address><address><name>pub-mip-142-165-233-247</name><ip-prefix>142.165.233.247/32</ip-prefix></address><address><name>pub-mip-142-165-233-248</name><ip-prefix>142.165.233.248/32</ip-prefix></address><address><name>pub-mip-142-165-233-251</name><ip-prefix>142.165.233.251/32</ip-prefix></address><address><name>pub-mip-142-165-233-252</name><ip-prefix>142.165.233.252/32</ip-prefix></address><address><name>pub-mip-142-165-233-253</name><ip-prefix>142.165.233.253/32</ip-prefix></address><address><name>pub-mip-142-165-233-254</name><ip-prefix>142.165.233.254/32</ip-prefix></address><address><name>pub-mip-142-165-233-124</name><ip-prefix>142.165.233.124/32</ip-prefix></address><address><name>pub-mip-142-165-233-125</name><ip-prefix>142.165.233.125/32</ip-prefix></address></address-book><flow><traceoptions><file><filename>flow-trace2</filename></file><flag><name>all</name></flag><packet-filter><name>f0</name><destination-prefix>142.165.233.222/32</destination-prefix></packet-filter></traceoptions></flow><screen><ids-option><name>untrust-screen</name><icmp><ping-death/></icmp><ip><source-route-option/><tear-drop/></ip><tcp><syn-flood><alarm-threshold>1024</alarm-threshold><attack-threshold>200</attack-threshold><source-threshold>1024</source-threshold><destination-threshold>2048</destination-threshold><undocumented><queue-size>2000</queue-size></undocumented><timeout>20</timeout></syn-flood><land/></tcp></ids-option></screen><nat><source><pool><name>dns_src_pool_172_21_88_145</name><address><name>172.21.88.145/32</name></address></pool><pool><name>v3127_src_nat_pool</name><address><name>172.21.88.126/32</name></address></pool><rule-set><name>zone_ims-qa-hbcs1_to_ims-qa-dns</name><from><zone>ims-qa-ibc-cust1-zone</zone></from><to><zone>ims-qa-ibc-dns-zone</zone></to><rule><name>hbcs1-dns-src-nat1</name><src-nat-rule-match><source-address>0.0.0.0/0</source-address><destination-address>172.21.80.132/32</destination-address></src-nat-rule-match><then><source-nat><pool><pool-name>dns_src_pool_172_21_88_145</pool-name></pool></source-nat></then></rule></rule-set><rule-set><name>zone_ims_qa_internet_to_unprot</name><from><zone>ims-qa-internet-zone</zone></from><to><zone>ims-qa-unprot-zone</zone></to><rule><name>ims-qa-internet-src-nat</name><src-nat-rule-match><source-address>0.0.0.0/0</source-address><destination-address>172.21.83.20/32</destination-address></src-nat-rule-match><then><source-nat><pool><pool-name>v3127_src_nat_pool</pool-name></pool></source-nat></then></rule></rule-set></source><static><rule-set><name>untrust</name><from><zone>ims-qa-internet-zone</zone></from><rule><name>SN-1</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-add-mip-1</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.83.20/32</addr-prefix><routing-instance>ims-qa-internet-vr</routing-instance></prefix></static-nat></then></rule><rule><name>SN-142-165-233-220</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-mip-142-165-233-247</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.85.132/32</addr-prefix><routing-instance>ims-qa-unprot-vr</routing-instance></prefix></static-nat></then></rule><rule><name>SN-142-165-233-251</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-mip-142-165-233-251</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.85.134/32</addr-prefix><routing-instance>ims-qa-internet-vr</routing-instance></prefix></static-nat></then></rule><rule><name>SN-142-165-233-252</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-mip-142-165-233-252</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.85.135/32</addr-prefix><routing-instance>ims-qa-internet-vr</routing-instance></prefix></static-nat></then></rule><rule><name>SN-142-165-233-253</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-mip-142-165-233-253</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.85.136/32</addr-prefix><routing-instance>ims-qa-internet-vr</routing-instance></prefix></static-nat></then></rule><rule><name>SN-142-165-233-254</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-mip-142-165-233-254</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.85.137/32</addr-prefix><routing-instance>ims-qa-internet-vr</routing-instance></prefix></static-nat></then></rule><rule><name>SN-142-165-233-124</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-mip-142-165-233-124</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.85.138/32</addr-prefix><routing-instance>ims-qa-unprot-vr</routing-instance></prefix></static-nat></then></rule><rule><name>SN-142-165-233-125</name><static-nat-rule-match><destination-address-name><dst-addr-name>pub-mip-142-165-233-125</dst-addr-name></destination-address-name></static-nat-rule-match><then><static-nat><prefix><addr-prefix>172.21.85.139/32</addr-prefix><routing-instance>ims-qa-unprot-vr</routing-instance></prefix></static-nat></then></rule></rule-set></static><proxy-arp><interface><name>ge-0/0/3.0</name><address><name>142.165.233.247/32</name></address></interface></proxy-arp></nat><policies><policy><from-zone-name>trust</from-zone-name><to-zone-name>trust</to-zone-name><policy><name>default-permit</name><match><source-address>any</source-address><destination-address>any</destination-address><application>any</application></match><then><permit></permit></then></policy></policy><policy><from-zone-name>trust</from-zone-name><to-zone-name>untrust</to-zone-name><policy><name>default-permit</name><match><source-address>any</source-address><destination-address>any</destination-address><application>any</application></match><then><permit></permit></then></policy></policy><policy><from-zone-name>ims-qa-ibc-cust1-zone</from-zone-name><to-zone-name>ims-qa-ibc-dns-zone</to-zone-name><policy><name>default-permit</name><match><source-address>any</source-address><destination-address>any</destination-address><application>any</application></match><then><permit></permit></then></policy></policy><policy><from-zone-name>ims-qa-internet-zone</from-zone-name><to-zone-name>ims-qa-unprot-zone</to-zone-name><policy><name>default-permit</name><match><source-address>any</source-address><destination-address>any</destination-address><application>any</application></match><then><permit></permit></then></policy></policy><policy><from-zone-name>ims-qa-unprot-zone</from-zone-name><to-zone-name>ims-qa-internet-zone</to-zone-name><policy><name>default-permit</name><match><source-address>any</source-address><destination-address>any</destination-address><application>any</application></match><then><permit></permit></then></policy></policy><policy><from-zone-name>ims-qa-dmz-zone</from-zone-name><to-zone-name>ims-qa-inside-zone</to-zone-name><policy><name>default-permit</name><match><source-address>any</source-address><destination-address>any</destination-address><application>any</application></match><then><permit></permit></then></policy></policy></policies><zones><security-zone><name>trust</name><tcp-rst/></security-zone><security-zone><name>untrust</name><screen>untrust-screen</screen></security-zone><security-zone><name>ims-qa-ibc-cust1-zone</name><host-inbound-traffic><system-services><name>ping</name></system-services></host-inbound-traffic><interfaces><name>ge-0/0/0.0</name></interfaces><interfaces><name>ge-0/0/1.0</name></interfaces></security-zone><security-zone><name>ims-qa-ibc-dns-zone</name><host-inbound-traffic><system-services><name>ping</name></system-services></host-inbound-traffic><interfaces><name>ge-0/0/2.0</name></interfaces></security-zone><security-zone><name>ims-qa-internet-zone</name><host-inbound-traffic><system-services><name>all</name></system-services></host-inbound-traffic><interfaces><name>ge-0/0/3.0</name></interfaces></security-zone><security-zone><name>ims-qa-unprot-zone</name><host-inbound-traffic><system-services><name>all</name></system-services></host-inbound-traffic><interfaces><name>ge-0/0/5.0</name></interfaces><interfaces><name>ge-0/0/4.0</name></interfaces></security-zone><security-zone><name>ims-qa-dmz-zone</name><host-inbound-traffic><system-services><name>all</name></system-services></host-inbound-traffic><interfaces><name>ge-0/0/6.0</name></interfaces></security-zone><security-zone><name>ims-qa-inside-zone</name><host-inbound-traffic><system-services><name>all</name></system-services><system-services><name>ping</name></system-services></host-inbound-traffic><interfaces><name>ge-0/0/7.0</name></interfaces></security-zone></zones></security><interfaces><interface><name>ge-0/0/0</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>172.21.86.52/29</name></address></inet></family></unit></interface><interface><name>ge-0/0/1</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>12.12.12.4/29</name></address></inet></family></unit></interface><interface><name>ge-0/0/2</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>13.13.13.4/29</name></address></inet></family></unit></interface><interface><name>ge-0/0/3</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>216.197.242.4/29</name></address></inet></family></unit></interface><interface><name>ge-0/0/4</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>172.21.85.129/28</name></address></inet></family></unit></interface><interface><name>ge-0/0/5</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>172.21.83.17/28</name></address></inet></family></unit></interface><interface><name>ge-0/0/6</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>172.21.85.161/28</name></address></inet></family></unit></interface><interface><name>ge-0/0/7</name><mtu>9192</mtu><unit><name>0</name><family><inet><address><name>172.21.83.4/29</name></address></inet></family></unit></interface></interfaces><routing-options><rib-groups><name>import-conn-from-ims-qa-ibc-cust1-vr-to-ims-qa-ibc-dns-vr</name><import-rib>ims-qa-ibc-dns-vr.inet.0</import-rib><import-rib>ims-qa-ibc-cust1-vr.inet.0</import-rib></rib-groups><rib-groups><name>import-from-ims-qa-internet-vr-to-ims-qa-unprot-vr</name><import-rib>ims-qa-internet-vr.inet.0</import-rib><import-rib>ims-qa-unprot-vr.inet.0</import-rib></rib-groups><rib-groups><name>import-from-ims-qa-unprot-vr-to-ims-qa-internet-vr</name><import-rib>ims-qa-internet-vr.inet.0</import-rib><import-rib>ims-qa-unprot-vr.inet.0</import-rib></rib-groups></routing-options><routing-instances><instance><name>ims-qa-dmz-vr</name><instance-type>virtual-router</instance-type><interface><name>ge-0/0/6.0</name></interface></instance><instance><name>ims-qa-ibc-cust1-vr</name><instance-type>virtual-router</instance-type><interface><name>ge-0/0/0.0</name></interface><interface><name>ge-0/0/1.0</name></interface><routing-options><interface-routes><rib-group><inet>import-conn-from-ims-qa-ibc-cust1-vr-to-ims-qa-ibc-dns-vr</inet></rib-group></interface-routes><static><route><name>10.1.5.0/24</name><next-hop>12.12.12.1</next-hop></route><route><name>172.21.80.132/32</name><next-table>ims-qa-ibc-dns-vr.inet.0</next-table></route><route><name>13.13.13.0/29</name><next-table>ims-qa-ibc-dns-vr.inet.0</next-table></route></static></routing-options></instance><instance><name>ims-qa-ibc-dns-vr</name><instance-type>virtual-router</instance-type><interface><name>ge-0/0/2.0</name></interface><routing-options><static><route><name>172.21.80.132/32</name><next-hop>13.13.13.1</next-hop></route></static></routing-options></instance><instance><name>ims-qa-inside-vr</name><instance-type>virtual-router</instance-type><interface><name>ge-0/0/7.0</name></interface></instance><instance><name>ims-qa-internet-vr</name><instance-type>virtual-router</instance-type><interface><name>ge-0/0/3.0</name></interface><routing-options><static><route><name>0.0.0.0/0</name><next-hop>216.197.242.1</next-hop></route></static></routing-options></instance><instance><name>ims-qa-unprot-vr</name><instance-type>virtual-router</instance-type><interface><name>ge-0/0/4.0</name></interface><interface><name>ge-0/0/5.0</name></interface><routing-options><interface-routes><rib-group><inet>import-from-ims-qa-unprot-vr-to-ims-qa-internet-vr</inet></rib-group></interface-routes><static><route><name>0.0.0.0/0</name><next-table>ims-qa-internet-vr.inet.0</next-table></route></static></routing-options></instance></routing-instances></configuration></load-configuration><commit/><unlock-configuration/>';

system_info = post('/rpc', {
  'driver': driver,
  'post': payload,
  'header': {
    'Authorization': 'Basic cm9vdDptcGxzMTIz',
  },
});

